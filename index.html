<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>SRPNet</title>  
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>SRPNet</title>
    <link rel="stylesheet" href="css/materialize.min.css" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js"></script>
    <link rel="stylesheet" href="css/fontawesome/all.css" />
    <link rel="stylesheet" href="css/custom_css.css" />
   
    <!--<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs/dist/tf.min.js"> </script>-->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.3.0/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/nicolaspanel/numjs@0.15.1/dist/numjs.min.js"></script>
 
</head>


<body>

    <nav class="white navbar-transition cool-navbar z-depth-0 text-darken-1" >
            <div class="nav-wrapper" style="color:black ! important;"> 
            <!-- header and button class -->
            <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
             <ul id="nav-mobile" class="right hide-on-med-and-down">
                <li><a href="https://github.com/dishan3x/SRPNet">GitHub</a></li>
                <!-- <li><a class="btn-floating btn-large waves-effect waves-light" onclick="modalInfo()"><i class="material-icons ">info</i> info</a></li> -->
                <li><a onclick="modalInfo()">How to use it</a></li>
                <li><a onclick="modalAbout()">About</a></li>
              </ul>
            </div> 
        </nav>
        <ul class="sidenav" id="mobile-demo">
            <li><a href="https://github.com/dishan3x/SRPNet">GitHub</a></li>
            <!-- <li><a class="btn-floating btn-large waves-effect waves-light" onclick="modalInfo()"><i class="material-icons ">info</i> info</a></li> -->
            <li><a onclick="modalInfo()">How to use it</a></li>
            <li><a onclick="modalAbout()">About</a></li>
          </ul>
      
        <div class="header_wrapper center-align">

        <div class="row">
            <h1 id="heading" ><B>SRP</B>Net</h1>
        <p class="job-view"> Web app quanitying soil, plant, and residue cover using convolutional neural networks </p>
        </div>
            <div class = "row file-field input-field ">
                <div id="upload_btn_wrapper_div" class = "btn center-align">
                    <span>Upload</span>
                    <input id="filePhoto" onchange="uploadImage(this)" type="file" />
                </div>
            </div>
        </div>

        <div class="container"> 

            <br><br>
            <div id="result_values" class="result_values row">
                <div class="result_label col l4 m4 s1">
                    <div id="soil_box" class="color-box"></div>
                    <label class="result_text">Soil :</label><label id="soil_label"  class="result_text result_text_mini_screen"></label></div>
              <div class="result_label col l4 m4 s1">
                    <div id="stubble_box" class="color-box"></div>
                    <label class="result_text">Residue :</label><label id="stubble_label"  class="result_text result_text_mini_screen"></label></div>
                <div class="result_label col l4 m4 s1">
                    <div id="canopy_box" class="color-box"></div>
                    <label  class="result_text">Plant :</label><label id="canopy_label"  class="result_text result_text_mini_screen"></label></div>
            </div>
            
            <div class="row">
                <!-- original image colomn -->
                <div class="col l6 m12 s12"> 
                    <img id="previewHolder"  alt="Uploaded Image Preview Holder" width="512px" height="512px" style="display: none;" />
                    <a  id="download_original_image" download="original_capture.png" href="data:image/png;base64,asdasd...">Download original image</a>
                </div>
                <!-- classified image coloumn-->
                <div id="result_div" class="col l6 m12 s12"> 
                    <a  id="download_predicted_image" download="prediction.png" href="data:image/png;base64,asdasd...">Download predicted image</a>
                </div>
            </div>
        </div> <!-- END div-container -->
    </body>


  <!-- Modal Structure -->
  <div id="modal_info" class="modal">
    <div class="modal-content">
      <h4>Instructions</h4>
      <p>1 . Take an image
        Stand on soil where you need to calculate soil cover.
        Open the cora app and click on upload image button to open the camera
        Hold the mobile camera 1m above ground level.
        Capture image <br><br>
        
        2 . Analysed image
        Calculated the soil cover percentages will show on top of the application.
        Application will be using color schemes to visualized the analysed data. <br><br>
        
        3 . Download image
        Click on the download button to download the images. <br><br>
        </p>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-close waves-effect waves-green btn-flat">Close</a>
    </div>
  </div>
     
    <!-- Modal Structure -->
    <div id="modal_about" class="modal">
        <div class="modal-content">
          <h4>About US</h4>
          <p> Quantify the soil cover in classes of soil,residue and plant using semeantic segmentation is important researcher and agronomist.
              The application utilizes a The Seg (semantic segmentation) Net (Network) architecture , a well-known encoder-decoder based architecture
              model which vastly used in area of biomedicine and computer vision.
            </p>
        <p>
            The model has been trained image set of 33000 images which are collected from the experimental plots in Kansas State University across Kansas. 
            The trained model then extracted to JSON format at implemented in this web app with the help of tensorflow js.
        </p>
        <p>
            The model takes an input of a digital image of a crop field and quantify the image and returns percentages of the soil cover. 
            The user can view and download the classfication of the analysed image. 
        </p>
             <img src="input_images/Segnet_strcutture_About_modal.png" alt="SegNet" height="80%" width="95%" class="center" /> 
            <br><br>
            <B>References</B>
            <p>
                Badrinarayanan, V., Kendall, A., & Cipolla, R. (2017). SegNet: A Deep Convolutional Encoder-Decoder Architecture for Image Segmentation. IEEE Transactions on Pattern Analysis and Machine Intelligence, 39(12), 2481â€“2495. https://doi.org/10.1109/TPAMI.2016.2644615
            </p>
        </div>
        <div class="modal-footer">
          <a href="#!" class="modal-close waves-effect waves-green btn-flat">Close</a>
        </div>
      </div>


    <script src="./classifier_attempt.js"></script>


